@model ShopToys.Models.Product

@{
	ViewData["Title"] = "EditProduct";
	Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
	var categories = ViewBag.Category as List<Category>;
}

<div class="container tm-mt-big tm-mb-big">
	<div class="row">
		<div class="col-xl-9 col-lg-10 col-md-12 col-sm-12 mx-auto">
			<div class="tm-bg-primary-dark tm-block tm-block-h-auto">
				<div class="row">
					<div class="col-12">
						<h2 class="tm-block-title d-inline-block">Add Product</h2>
					</div>
				</div>
				<form asp-controller="AdminProducts" asp-action="Edit" method="post" enctype="multipart/form-data" class="tm-edit-product-form">
					<div asp-validation-summary="ModelOnly" class="text-danger"></div>
					<div class="row tm-edit-product-row">
						<div class="col-xl-6 col-lg-6 col-md-12">
							<div class="form-group mb-3">
								<label for="name">
									Product Name
								</label>
								<input id="name"
									   asp-for="Name"
									   type="text"
									   class="form-control validate"
									   required />
							</div>
							<div class="form-group mb-3">
								<label for="description">Description</label>
								<textarea class="form-control validate"
										  rows="3"
										  asp-for="Description"
										  required></textarea>
							</div>
						</div>
						<div class="col-xl-6 col-lg-6 col-md-12 mx-auto mb-4">
							<div class="form-group mb-3">
								<label for="category">Category</label>
								<select class="custom-select tm-select-accounts"
										id="catID" asp-for="CategoryId" name="catID" asp-items="ViewBag.Categories">
									<option value="" disabled >Choose category</option>
								</select>

							</div>
							<div class="row">
								<div class="form-group mb-3 col-xs-12 col-sm-6">
									<label for="Price">
										Price
									</label>
									<input id="Price"
										   name="Price"
										   type="text"
										   asp-for="Price"
										   class="form-control validate"
										   data-large-mode="true" />
								</div>
								<div class="form-group mb-3 col-xs-12 col-sm-6">
									<label for="stock">
										Units In Stock
									</label>
									<input id="stock"
										   name="stock"
										   asp-for="QuantityInStock"
										   type="text"
										   class="form-control validate"
										   required />
								</div>
							</div>
							<div class="row">
								<div class="form-group mb-3 col-xs-12 col-sm-6">
									<label for="Discount">
										Discount
									</label>
									<input id="Discount"
										   name="Discount"
										   type="text"
										   asp-for="Discount"
										   class="form-control validate" />
								</div>
								<div class="form-group mb-3 col-xs-12 col-sm-6">
									<label for="category">Category</label>
									<select asp-for="Status" class="custom-select tm-select-accounts"
											id="Status">
										<option disabled >Select Status</option>
										<option value="Available">Available</option>
										<option value="Unavailable">Unavailable</option>
									</select>
								</div>
							</div>
						</div>
						<div>
							<img width="200" src="~/images/Products/@Model.Image" />
							<input name="image" type="file" asp-for="Image" onchange="previewImage(this, $('#image1Preview'))" />
							<span asp-validation-for="Image" class="text-danger"></span>
							<img id="image1Preview" width="200" />
						</div>
						<div>
							<img width="200" src="~/images/Products/@Model.Image2" />
							<input name="image2" type="file" asp-for="Image2" onchange="previewImage(this, $('#image2Preview'))" />
							<span asp-validation-for="Image2" class="text-danger"></span>
							<img id="image2Preview" width="200" />
						</div>
						<div>
							<img width="200" src="~/images/Products/@Model.Image3" />
							<input name="image3" type="file" asp-for="Image3" onchange="previewImage(this, $('#image3Preview'))" />
							<span asp-validation-for="Image2" class="text-danger"></span>
							<img id="image3Preview" width="200" />
						</div>
						<div>
							<img width="200" src="~/images/Products/@Model.Image4" />
							<input name="image4" type="file" asp-for="Image4" onchange="previewImage(this, $('#image4Preview'))" />
							<span asp-validation-for="Image4" class="text-danger"></span>
							<img id="image4Preview" width="200" />
						</div>
						<div class="col-12">
							<input type="submit" class="btn btn-primary btn-block text-uppercase" value="Save" />
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

@section Scripts{
	<script>
		function previewImage(input, imgElement) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function (e) {
					imgElement.attr('src', e.target.result);
				};
				reader.readAsDataURL(input.files[0]);
			}
		}
	</script>
}